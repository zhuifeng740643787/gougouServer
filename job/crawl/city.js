'usr strict'

var mongoose = require('mongoose')
var City = mongoose.model('City')


exports.add = function() {
  var total = cities.length,
    result = [],
    error = []
  city = null

  function saveAll(callback) {
    city = new City(cities.shift())
    city.save(function(err, doc){
      if(err) {
        error.push(err)
      } else {
        result.push(doc)
      }
      if (--total) {
        saveAll(callback)
      } else {
        callback()
      }
    })
  }
  saveAll(function() {
    console.log(result.length, error.length)
    if(error.length > 0) {
      console.log('error:', error)
    }
    process.exit(0)
  })
}


const cities = [
  { name: '上海', desc: '上海市' },
  { name: '安庆', desc: '安庆市' },
  { name: '蚌埠', desc: '蚌埠市' },
  { name: '巢湖', desc: '巢湖市' },
  { name: '池州', desc: '池州市' },
  { name: '滁州', desc: '滁州市' },
  { name: '阜阳', desc: '阜阳市' },
  { name: '淮北', desc: '淮北市' },
  { name: '淮南', desc: '淮南市' },
  { name: '黄山', desc: '黄山市' },
  { name: '六安', desc: '六安市' },
  { name: '马鞍山', desc: '马鞍山市' },
  { name: '宿州', desc: '宿州市' },
  { name: '铜陵', desc: '铜陵市' },
  { name: '芜湖', desc: '芜湖市' },
  { name: '宣城', desc: '宣城市' },
  { name: '亳州', desc: '亳州市' },
  { name: '北京', desc: '北京市' },
  { name: '福州', desc: '福州市' },
  { name: '龙岩', desc: '龙岩市' },
  { name: '南平', desc: '南平市' },
  { name: '宁德', desc: '宁德市' },
  { name: '莆田', desc: '莆田市' },
  { name: '泉州', desc: '泉州市' },
  { name: '三明', desc: '三明市' },
  { name: '厦门', desc: '厦门市' },
  { name: '漳州', desc: '漳州市' },
  { name: '兰州', desc: '兰州市' },
  { name: '白银', desc: '白银市' },
  { name: '定西', desc: '定西市' },
  { name: '甘南', desc: '甘南市' },
  { name: '嘉峪关', desc: '嘉峪关市' },
  { name: '金昌', desc: '金昌市' },
  { name: '酒泉', desc: '酒泉市' },
  { name: '临夏', desc: '临夏市' },
  { name: '陇南', desc: '陇南市' },
  { name: '平凉', desc: '平凉市' },
  { name: '庆阳', desc: '庆阳市' },
  { name: '天水', desc: '天水市' },
  { name: '武威', desc: '武威市' },
  { name: '张掖', desc: '张掖市' },
  { name: '广州', desc: '广州市' },
  { name: '深圳', desc: '深圳市' },
  { name: '潮州', desc: '潮州市' },
  { name: '东莞', desc: '东莞市' },
  { name: '佛山', desc: '佛山市' },
  { name: '河源', desc: '河源市' },
  { name: '惠州', desc: '惠州市' },
  { name: '江门', desc: '江门市' },
  { name: '揭阳', desc: '揭阳市' },
  { name: '茂名', desc: '茂名市' },
  { name: '梅州', desc: '梅州市' },
  { name: '清远', desc: '清远市' },
  { name: '汕头', desc: '汕头市' },
  { name: '汕尾', desc: '汕尾市' },
  { name: '韶关', desc: '韶关市' },
  { name: '阳江', desc: '阳江市' },
  { name: '云浮', desc: '云浮市' },
  { name: '湛江', desc: '湛江市' },
  { name: '肇庆', desc: '肇庆市' },
  { name: '中山', desc: '中山市' },
  { name: '珠海', desc: '珠海市' },
  { name: '南宁', desc: '南宁市' },
  { name: '桂林', desc: '桂林市' },
  { name: '百色', desc: '百色市' },
  { name: '北海', desc: '北海市' },
  { name: '崇左', desc: '崇左市' },
  { name: '防城港', desc: '防城港市' },
  { name: '贵港', desc: '贵港市' },
  { name: '河池', desc: '河池市' },
  { name: '贺州', desc: '贺州市' },
  { name: '来宾', desc: '来宾市' },
  { name: '柳州', desc: '柳州市' },
  { name: '钦州', desc: '钦州市' },
  { name: '梧州', desc: '梧州市' },
  { name: '玉林', desc: '玉林市' },
  { name: '贵阳', desc: '贵阳市' },
  { name: '安顺', desc: '安顺市' },
  { name: '毕节', desc: '毕节市' },
  { name: '六盘水', desc: '六盘水市' },
  { name: '黔东南', desc: '黔东南市' },
  { name: '黔南', desc: '黔南市' },
  { name: '黔西南', desc: '黔西南市' },
  { name: '铜仁', desc: '铜仁市' },
  { name: '遵义', desc: '遵义市' },
  { name: '海口', desc: '海口市' },
  { name: '三亚', desc: '三亚市' },
  { name: '白沙', desc: '白沙市' },
  { name: '保亭', desc: '保亭市' },
  { name: '昌江', desc: '昌江市' },
  { name: '澄迈县', desc: '澄迈县市' },
  { name: '定安县', desc: '定安县市' },
  { name: '东方', desc: '东方市' },
  { name: '乐东', desc: '乐东市' },
  { name: '临高县', desc: '临高县市' },
  { name: '陵水', desc: '陵水市' },
  { name: '琼海', desc: '琼海市' },
  { name: '琼中', desc: '琼中市' },
  { name: '屯昌县', desc: '屯昌县市' },
  { name: '万宁', desc: '万宁市' },
  { name: '文昌', desc: '文昌市' },
  { name: '五指山', desc: '五指山市' },
  { name: '儋州', desc: '儋州市' },
  { name: '石家庄', desc: '石家庄市' },
  { name: '保定', desc: '保定市' },
  { name: '沧州', desc: '沧州市' },
  { name: '承德', desc: '承德市' },
  { name: '邯郸', desc: '邯郸市' },
  { name: '衡水', desc: '衡水市' },
  { name: '廊坊', desc: '廊坊市' },
  { name: '秦皇岛', desc: '秦皇岛市' },
  { name: '唐山', desc: '唐山市' },
  { name: '邢台', desc: '邢台市' },
  { name: '张家口', desc: '张家口市' },
  { name: '郑州', desc: '郑州市' },
  { name: '洛阳', desc: '洛阳市' },
  { name: '开封', desc: '开封市' },
  { name: '安阳', desc: '安阳市' },
  { name: '鹤壁', desc: '鹤壁市' },
  { name: '济源', desc: '济源市' },
  { name: '焦作', desc: '焦作市' },
  { name: '南阳', desc: '南阳市' },
  { name: '平顶山', desc: '平顶山市' },
  { name: '三门峡', desc: '三门峡市' },
  { name: '商丘', desc: '商丘市' },
  { name: '新乡', desc: '新乡市' },
  { name: '信阳', desc: '信阳市' },
  { name: '许昌', desc: '许昌市' },
  { name: '周口', desc: '周口市' },
  { name: '驻马店', desc: '驻马店市' },
  { name: '漯河', desc: '漯河市' },
  { name: '濮阳', desc: '濮阳市' },
  { name: '哈尔滨', desc: '哈尔滨市' },
  { name: '大庆', desc: '大庆市' },
  { name: '大兴安岭', desc: '大兴安岭市' },
  { name: '鹤岗', desc: '鹤岗市' },
  { name: '黑河', desc: '黑河市' },
  { name: '鸡西', desc: '鸡西市' },
  { name: '佳木斯', desc: '佳木斯市' },
  { name: '牡丹江', desc: '牡丹江市' },
  { name: '七台河', desc: '七台河市' },
  { name: '齐齐哈尔', desc: '齐齐哈尔市' },
  { name: '双鸭山', desc: '双鸭山市' },
  { name: '绥化', desc: '绥化市' },
  { name: '伊春', desc: '伊春市' },
  { name: '武汉', desc: '武汉市' },
  { name: '仙桃', desc: '仙桃市' },
  { name: '鄂州', desc: '鄂州市' },
  { name: '黄冈', desc: '黄冈市' },
  { name: '黄石', desc: '黄石市' },
  { name: '荆门', desc: '荆门市' },
  { name: '荆州', desc: '荆州市' },
  { name: '潜江', desc: '潜江市' },
  { name: '神农架林区', desc: '神农架林区市' },
  { name: '十堰', desc: '十堰市' },
  { name: '随州', desc: '随州市' },
  { name: '天门', desc: '天门市' },
  { name: '咸宁', desc: '咸宁市' },
  { name: '襄樊', desc: '襄樊市' },
  { name: '孝感', desc: '孝感市' },
  { name: '宜昌', desc: '宜昌市' },
  { name: '恩施', desc: '恩施市' },
  { name: '长沙', desc: '长沙市' },
  { name: '张家界', desc: '张家界市' },
  { name: '常德', desc: '常德市' },
  { name: '郴州', desc: '郴州市' },
  { name: '衡阳', desc: '衡阳市' },
  { name: '怀化', desc: '怀化市' },
  { name: '娄底', desc: '娄底市' },
  { name: '邵阳', desc: '邵阳市' },
  { name: '湘潭', desc: '湘潭市' },
  { name: '湘西', desc: '湘西市' },
  { name: '益阳', desc: '益阳市' },
  { name: '永州', desc: '永州市' },
  { name: '岳阳', desc: '岳阳市' },
  { name: '株洲', desc: '株洲市' },
  { name: '长春', desc: '长春市' },
  { name: '吉林', desc: '吉林市' },
  { name: '白城', desc: '白城市' },
  { name: '白山', desc: '白山市' },
  { name: '辽源', desc: '辽源市' },
  { name: '四平', desc: '四平市' },
  { name: '松原', desc: '松原市' },
  { name: '通化', desc: '通化市' },
  { name: '延边', desc: '延边市' },
  { name: '南京', desc: '南京市' },
  { name: '苏州', desc: '苏州市' },
  { name: '无锡', desc: '无锡市' },
  { name: '常州', desc: '常州市' },
  { name: '淮安', desc: '淮安市' },
  { name: '连云港', desc: '连云港市' },
  { name: '南通', desc: '南通市' },
  { name: '宿迁', desc: '宿迁市' },
  { name: '泰州', desc: '泰州市' },
  { name: '徐州', desc: '徐州市' },
  { name: '盐城', desc: '盐城市' },
  { name: '扬州', desc: '扬州市' },
  { name: '镇江', desc: '镇江市' },
  { name: '南昌', desc: '南昌市' },
  { name: '抚州', desc: '抚州市' },
  { name: '赣州', desc: '赣州市' },
  { name: '吉安', desc: '吉安市' },
  { name: '景德镇', desc: '景德镇市' },
  { name: '九江', desc: '九江市' },
  { name: '萍乡', desc: '萍乡市' },
  { name: '上饶', desc: '上饶市' },
  { name: '新余', desc: '新余市' },
  { name: '宜春', desc: '宜春市' },
  { name: '鹰潭', desc: '鹰潭市' },
  { name: '沈阳', desc: '沈阳市' },
  { name: '大连', desc: '大连市' },
  { name: '鞍山', desc: '鞍山市' },
  { name: '本溪', desc: '本溪市' },
  { name: '朝阳', desc: '朝阳市' },
  { name: '丹东', desc: '丹东市' },
  { name: '抚顺', desc: '抚顺市' },
  { name: '阜新', desc: '阜新市' },
  { name: '葫芦岛', desc: '葫芦岛市' },
  { name: '锦州', desc: '锦州市' },
  { name: '辽阳', desc: '辽阳市' },
  { name: '盘锦', desc: '盘锦市' },
  { name: '铁岭', desc: '铁岭市' },
  { name: '营口', desc: '营口市' },
  { name: '呼和浩特', desc: '呼和浩特市' },
  { name: '阿拉善盟', desc: '阿拉善盟市' },
  { name: '巴彦淖尔盟', desc: '巴彦淖尔盟市' },
  { name: '包头', desc: '包头市' },
  { name: '赤峰', desc: '赤峰市' },
  { name: '鄂尔多斯', desc: '鄂尔多斯市' },
  { name: '呼伦贝尔', desc: '呼伦贝尔市' },
  { name: '通辽', desc: '通辽市' },
  { name: '乌海', desc: '乌海市' },
  { name: '乌兰察布市', desc: '乌兰察布市市' },
  { name: '锡林郭勒盟', desc: '锡林郭勒盟市' },
  { name: '兴安盟', desc: '兴安盟市' },
  { name: '银川', desc: '银川市' },
  { name: '固原', desc: '固原市' },
  { name: '石嘴山', desc: '石嘴山市' },
  { name: '吴忠', desc: '吴忠市' },
  { name: '中卫', desc: '中卫市' },
  { name: '西宁', desc: '西宁市' },
  { name: '果洛', desc: '果洛市' },
  { name: '海北', desc: '海北市' },
  { name: '海东', desc: '海东市' },
  { name: '海南', desc: '海南市' },
  { name: '海西', desc: '海西市' },
  { name: '黄南', desc: '黄南市' },
  { name: '玉树', desc: '玉树市' },
  { name: '济南', desc: '济南市' },
  { name: '青岛', desc: '青岛市' },
  { name: '滨州', desc: '滨州市' },
  { name: '德州', desc: '德州市' },
  { name: '东营', desc: '东营市' },
  { name: '菏泽', desc: '菏泽市' },
  { name: '济宁', desc: '济宁市' },
  { name: '莱芜', desc: '莱芜市' },
  { name: '聊城', desc: '聊城市' },
  { name: '临沂', desc: '临沂市' },
  { name: '日照', desc: '日照市' },
  { name: '泰安', desc: '泰安市' },
  { name: '威海', desc: '威海市' },
  { name: '潍坊', desc: '潍坊市' },
  { name: '烟台', desc: '烟台市' },
  { name: '枣庄', desc: '枣庄市' },
  { name: '淄博', desc: '淄博市' },
  { name: '太原', desc: '太原市' },
  { name: '长治', desc: '长治市' },
  { name: '大同', desc: '大同市' },
  { name: '晋城', desc: '晋城市' },
  { name: '晋中', desc: '晋中市' },
  { name: '临汾', desc: '临汾市' },
  { name: '吕梁', desc: '吕梁市' },
  { name: '朔州', desc: '朔州市' },
  { name: '忻州', desc: '忻州市' },
  { name: '阳泉', desc: '阳泉市' },
  { name: '运城', desc: '运城市' },
  { name: '西安', desc: '西安市' },
  { name: '安康', desc: '安康市' },
  { name: '宝鸡', desc: '宝鸡市' },
  { name: '汉中', desc: '汉中市' },
  { name: '商洛', desc: '商洛市' },
  { name: '铜川', desc: '铜川市' },
  { name: '渭南', desc: '渭南市' },
  { name: '咸阳', desc: '咸阳市' },
  { name: '延安', desc: '延安市' },
  { name: '榆林', desc: '榆林市' },
  { name: '成都', desc: '成都市' },
  { name: '绵阳', desc: '绵阳市' },
  { name: '阿坝', desc: '阿坝市' },
  { name: '巴中', desc: '巴中市' },
  { name: '达州', desc: '达州市' },
  { name: '德阳', desc: '德阳市' },
  { name: '甘孜', desc: '甘孜市' },
  { name: '广安', desc: '广安市' },
  { name: '广元', desc: '广元市' },
  { name: '乐山', desc: '乐山市' },
  { name: '凉山', desc: '凉山市' },
  { name: '眉山', desc: '眉山市' },
  { name: '南充', desc: '南充市' },
  { name: '内江', desc: '内江市' },
  { name: '攀枝花', desc: '攀枝花市' },
  { name: '遂宁', desc: '遂宁市' },
  { name: '雅安', desc: '雅安市' },
  { name: '宜宾', desc: '宜宾市' },
  { name: '资阳', desc: '资阳市' },
  { name: '自贡', desc: '自贡市' },
  { name: '泸州', desc: '泸州市' },
  { name: '天津', desc: '天津市' },
  { name: '拉萨', desc: '拉萨市' },
  { name: '阿里', desc: '阿里市' },
  { name: '昌都', desc: '昌都市' },
  { name: '林芝', desc: '林芝市' },
  { name: '那曲', desc: '那曲市' },
  { name: '日喀则', desc: '日喀则市' },
  { name: '山南', desc: '山南市' },
  { name: '乌鲁木齐', desc: '乌鲁木齐市' },
  { name: '阿克苏', desc: '阿克苏市' },
  { name: '阿拉尔', desc: '阿拉尔市' },
  { name: '巴音郭楞', desc: '巴音郭楞市' },
  { name: '博尔塔拉', desc: '博尔塔拉市' },
  { name: '昌吉', desc: '昌吉市' },
  { name: '哈密', desc: '哈密市' },
  { name: '和田', desc: '和田市' },
  { name: '喀什', desc: '喀什市' },
  { name: '克拉玛依', desc: '克拉玛依市' },
  { name: '克孜勒苏', desc: '克孜勒苏市' },
  { name: '石河子', desc: '石河子市' },
  { name: '图木舒克', desc: '图木舒克市' },
  { name: '吐鲁番', desc: '吐鲁番市' },
  { name: '五家渠', desc: '五家渠市' },
  { name: '伊犁', desc: '伊犁市' },
  { name: '昆明', desc: '昆明市' },
  { name: '怒江', desc: '怒江市' },
  { name: '普洱', desc: '普洱市' },
  { name: '丽江', desc: '丽江市' },
  { name: '保山', desc: '保山市' },
  { name: '楚雄', desc: '楚雄市' },
  { name: '大理', desc: '大理市' },
  { name: '德宏', desc: '德宏市' },
  { name: '迪庆', desc: '迪庆市' },
  { name: '红河', desc: '红河市' },
  { name: '临沧', desc: '临沧市' },
  { name: '曲靖', desc: '曲靖市' },
  { name: '文山', desc: '文山市' },
  { name: '西双版纳', desc: '西双版纳市' },
  { name: '玉溪', desc: '玉溪市' },
  { name: '昭通', desc: '昭通市' },
  { name: '杭州', desc: '杭州市' },
  { name: '湖州', desc: '湖州市' },
  { name: '嘉兴', desc: '嘉兴市' },
  { name: '金华', desc: '金华市' },
  { name: '丽水', desc: '丽水市' },
  { name: '宁波', desc: '宁波市' },
  { name: '绍兴', desc: '绍兴市' },
  { name: '台州', desc: '台州市' },
  { name: '温州', desc: '温州市' },
  { name: '舟山', desc: '舟山市' },
  { name: '衢州', desc: '衢州市' },
  { name: '重庆', desc: '重庆市' },
  { name: '香港', desc: '香港市' },
  { name: '澳门', desc: '澳门市' },
  { name: '台湾', desc: '台湾市' },
  { name: '合肥', desc: '合肥市' },
]
